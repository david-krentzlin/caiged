.TH CAIGED 1 "February 2026" "caiged" "User Commands"
.SH NAME
caiged \- Run isolated OpenCode agent spins in Docker
.SH SYNOPSIS
.B caiged
\fIcommand\fR [\fIargs\fR] [\fIflags\fR]
.SH DESCRIPTION
.B caiged
runs isolated OpenCode agent environments ("spins") in Docker containers. Each container provides a complete development environment with OpenCode server, mise-managed tools, and your project mounted at /workspace.
.SH COMMANDS
.TP
.B run
Start or resume a container with an OpenCode spin. Builds images if needed, connects to existing container or creates a new one.
.TP
.B connect
Connect to an existing container by project name. See \fBcaiged-connect\fR(1).
.TP
.B session
Manage containers and sessions (list, stop, shell). See \fBcaiged-session\fR(1).
.SH EXAMPLES
.TP
Run or connect to qa spin in current directory:
.B caiged run . \-\-spin qa
.TP
Rebuild images before running:
.B caiged run . \-\-spin qa \-\-rebuild-images
.TP
Start container without connecting:
.B caiged run . \-\-spin qa \-\-no-connect
.TP
Pass secret environment variables:
.B caiged run . \-\-spin qa \-\-secret-env API_KEY \-\-secret-env DATABASE_URL
.TP
Connect to an existing project from any directory:
.B caiged connect my-project
.TP
List all running containers:
.B caiged session list
.TP
Open a shell in a container for debugging:
.B caiged session shell <container-name>
.SH CONTAINER BEHAVIOR
Containers are named using the format:
.B caiged-{spin}-{project}
(e.g., caiged-qa-my-project).
.PP
Each container runs an OpenCode server on an auto-assigned port (4096+), accessible via password-protected HTTP. The password is deterministically generated from the container name.
.PP
.B Persistent Sessions:
Containers are preserved when stopped, allowing you to resume work with all installed packages and changes intact. This enables workflows where you can stop a session, install tools, and resume later without losing your configuration.
.PP
When you run
.B caiged run
on a project:
.IP \(bu 2
If a container is already running:
.B ðŸ”— CONNECTING TO EXISTING CONTAINER
.IP \(bu 2
If a stopped container exists:
.B ðŸ”„ RESUMED PERSISTENT SESSION
.IP \(bu 2
If no container exists:
.B ðŸš€ CONTAINER STARTED
.SH FILES
.TP
.I ~/.local/share/opencode/auth.json
OpenCode authentication file, mounted into containers by default.
.TP
.I ~/.config/gh/
GitHub CLI configuration directory, mounted read-only by default.
.TP
.I ~/.config/caiged/salt
Password generation salt file.
.SH SEE ALSO
.BR caiged-connect (1),
.BR caiged-session (1),
.BR docker (1),
.BR opencode (1)
.SH AUTHOR
Written by the caiged development team.
