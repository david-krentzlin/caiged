.TH CAIGED 1 "February 2026" "caiged" "User Commands"
.SH NAME
caiged \- Run isolated OpenCode agent spins in Docker
.SH SYNOPSIS
.B caiged
[\fIworkdir\fR] [\fIflags\fR]
.br
.B caiged
\fIcommand\fR [\fIargs\fR] [\fIflags\fR]
.SH DESCRIPTION
.B caiged
runs isolated OpenCode agent environments ("spins") in Docker containers. Each container provides a complete development environment with OpenCode server, mise-managed tools, and your project mounted at /workspace.
.PP
When invoked without a subcommand,
.B caiged
will intelligently attach to an existing container for the project/spin if one exists, or create a new container if none exists.
.SH OPTIONS
.TP
.B \-\-spin \fIname\fR
Spin name (default: "qa"). Spins are isolated environments that can run different agent configurations.
.TP
.B \-\-project \fIname\fR
Override project name for container naming. By default, the project name is derived from the working directory.
.TP
.B \-\-repo \fIpath\fR
Path to caiged repository containing spins/Dockerfile/entrypoint.sh.
.TP
.B \-\-rebuild-images
Force rebuild of base and spin Docker images before running.
.TP
.B \-\-disable-network
Disable network access in the container.
.TP
.B \-\-disable-docker-sock
Disable Docker socket mount (prevents container from accessing host Docker).
.TP
.B \-\-secret-env \fIVAR\fR
Pass a host environment variable into the container. Can be specified multiple times for multiple variables (e.g., \-\-secret-env API_KEY \-\-secret-env TOKEN).
.TP
.B \-\-secret-env-file \fIpath\fR
Path to an environment file with secret values to pass into the container.
.TP
.B \-\-mount-opencode-auth
Mount host OpenCode auth.json when available (default: true).
.TP
.B \-\-no-mount-opencode-auth
Do not mount host OpenCode auth.json.
.TP
.B \-\-mount-gh
Mount host GitHub CLI configuration when available (default: true, read-only).
.TP
.B \-\-mount-gh-rw
Mount host GitHub CLI configuration in read-write mode.
.TP
.B \-\-no-mount-gh
Do not mount host GitHub CLI configuration.
.TP
.B \-\-no-attach
Start the container without attaching to it.
.TP
.B \-h, \-\-help
Show help information.
.SH COMMANDS
.TP
.B build
Build the base and spin container images. See \fBcaiged-build\fR(1).
.TP
.B connect
Connect to an existing container by project name. See \fBcaiged-connect\fR(1).
.TP
.B port
Show connection information for a project's container. See \fBcaiged-port\fR(1).
.TP
.B session
Manage containers and sessions. See \fBcaiged-session\fR(1).
.SH EXAMPLES
.TP
Run or attach to default spin (qa) in current directory:
.B caiged .
.TP
Run or attach to a dev spin:
.B caiged . \-\-spin dev
.TP
Create container without attaching:
.B caiged . \-\-no-attach
.TP
Run with network disabled:
.B caiged . \-\-disable-network
.TP
Pass secret environment variables:
.B caiged . \-\-secret-env API_KEY \-\-secret-env DATABASE_URL
.TP
Connect to an existing project from any directory:
.B caiged connect my-project
.TP
Rebuild images before running:
.B caiged . \-\-rebuild-images
.SH CONTAINER BEHAVIOR
Containers are named using the format:
.B caiged-{spin}-{project}
(e.g., caiged-qa-my-project).
.PP
Each container runs an OpenCode server on an auto-assigned port (4096+), accessible via password-protected HTTP. The password is deterministically generated from the container name.
.PP
When you run
.B caiged
on a project that already has a container, it will attach to the existing container and display:
.B ðŸ”— ATTACHING TO EXISTING CONTAINER
.PP
When creating a new container, it displays:
.B ðŸš€ CONTAINER STARTED
.SH FILES
.TP
.I ~/.local/share/opencode/auth.json
OpenCode authentication file, mounted into containers by default.
.TP
.I ~/.config/gh/
GitHub CLI configuration directory, mounted read-only by default.
.SH SEE ALSO
.BR caiged-build (1),
.BR caiged-connect (1),
.BR caiged-port (1),
.BR caiged-session (1),
.BR docker (1),
.BR opencode (1)
.SH AUTHOR
Written by the caiged development team.
